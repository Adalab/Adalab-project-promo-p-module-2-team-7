"use strict";const designLegend=document.querySelector(".js-designLegend"),design=document.querySelector(".js-design"),designArrow=document.querySelector(".js-designArrow"),fill=document.querySelector(".js-desplegable"),form2=document.querySelector(".js-fieldset"),arrowUp=document.querySelector(".js-icon-rellena"),shareLegend=document.querySelector(".js-title_share"),share=document.querySelector(".js-share"),shareArrow=document.querySelector(".js-shareArrow"),previewContainer=document.querySelector(".js-preview-container"),radioButton1=document.querySelector(".js-input-1"),radioButton2=document.querySelector(".js-input-2"),radioButton3=document.querySelector(".js-input-3"),fillForm=document.querySelector(".js-fieldset"),previewName=document.querySelector(".js-preview-name"),previewJob=document.querySelector(".js-preview-job"),previewPhone=document.querySelector(".js-preview-phone"),previewEmail=document.querySelector(".js-preview-email"),previewLinkedin=document.querySelector(".js-preview-linkedin"),previewGithub=document.querySelector(".js-preview-github"),resetImage=document.querySelector(".js_reset_image"),resetPreviewImg=document.querySelector(".js_reset_previewimg"),generatedUrl=document.querySelector(".js_shareUrl"),shareOnTwitter=document.querySelector(".js_shareTwitter"),data={palette:1,name:"",job:"",email:"",phone:"",linkedin:"",github:"",photo:""},btn=document.querySelector(".js_bntCreate"),shareCardSection=document.querySelector(".js-shareCard"),buttonReset=document.querySelector(".js_buttonReset");let resetInput=document.querySelectorAll(".js_resetInput");function resetCard(){previewName.innerHTML="Nombre Apellido",previewJob.innerHTML="Front-end developer",btn.classList.remove("js-greyButton"),shareCardSection.classList.add("js-createHidden"),resetImage.style.backgroundImage="",resetPreviewImg.style.backgroundImage=""}function handleClickReset(e){e.preventDefault();for(const e of resetInput)e.value="";resetCard()}function hiddeFieldset(e){e.preventDefault(),form2.classList.contains("collapsed")&&arrowUp.classList.contains("fa-transform")?(form2.classList.remove("collapsed"),arrowUp.classList.remove("fa-transform"),design.classList.add("collapsed"),designArrow.classList.add("fa-transform"),share.classList.add("collapsed"),shareArrow.classList.add("fa-transform")):(form2.classList.add("collapsed"),arrowUp.classList.add("fa-transform"))}function handleClickDesign(e){e.preventDefault(),design.classList.contains("collapsed")&&designArrow.classList.contains("fa-transform")?(design.classList.remove("collapsed"),designArrow.classList.remove("fa-transform"),form2.classList.add("collapsed"),arrowUp.classList.add("fa-transform"),share.classList.add("collapsed"),shareArrow.classList.add("fa-transform")):(design.classList.add("collapsed"),designArrow.classList.add("fa-transform"))}function handleClickShare(e){e.preventDefault(),share.classList.contains("collapsed")&&shareArrow.classList.contains("fa-transform")?(share.classList.remove("collapsed"),shareArrow.classList.remove("fa-transform"),design.classList.add("collapsed"),designArrow.classList.add("fa-transform"),form2.classList.add("collapsed"),arrowUp.classList.add("fa-transform")):(share.classList.add("collapsed"),shareArrow.classList.add("fa-transform"))}function handleClick1(){previewContainer.classList.remove("palette-2"),previewContainer.classList.remove("palette-3"),previewContainer.classList.add("palette-1")}function handleClick2(){previewContainer.classList.remove("palette-1"),previewContainer.classList.remove("palette-3"),previewContainer.classList.add("palette-2")}function handleClick3(){previewContainer.classList.remove("palette-1"),previewContainer.classList.remove("palette-2"),previewContainer.classList.add("palette-3")}function handleKeyupInputs(e){e.preventDefault();const t=e.target;"name"===t.name?data.name=t.value:"job"===t.name?data.job=t.value:"email"===t.name?data.email=t.value:"phone"===t.name?data.phone=t.value:"linkedin"===t.name?data.linkedin=t.value:"github"===t.name?data.github=t.value:"photo"===t.name&&(data.photo=t.value),renderPreview()}function renderPreview(){""===data.name?previewName.innerHTML="Nombre Apellido":previewName.innerHTML=data.name,""===data.job?previewJob.innerHTML="Front-end developer":previewJob.innerHTML=data.job,previewPhone.href=data.phone,previewEmail.href="mailto:"+data.email,previewLinkedin.href=data.linkedin,previewGithub.href=data.github}buttonReset.addEventListener("click",handleClickReset),fill.addEventListener("click",hiddeFieldset),designLegend.addEventListener("click",handleClickDesign),shareLegend.addEventListener("click",handleClickShare),radioButton1.addEventListener("click",handleClick1),radioButton2.addEventListener("click",handleClick2),radioButton3.addEventListener("click",handleClick3),fillForm.addEventListener("keyup",handleKeyupInputs);const fr=new FileReader,fileField=document.querySelector(".js__profile-upload-btn"),profileImage=document.querySelector(".js__profile-image"),profilePreview=document.querySelector(".js__profile-preview");function getImage(e){const t=e.currentTarget.files[0];fr.addEventListener("load",writeImage),fr.readAsDataURL(t)}function writeImage(){profileImage.style.backgroundImage=`url(${fr.result})`,profilePreview.style.backgroundImage=`url(${fr.result})`,data.photo=fr.result}function changeColorButton(e){btn.classList.add("js-greyButton"),shareCardSection.classList.remove("js-createHidden")}function handlebntCreate(e){e.preventDefault(),fetch("https://awesome-profile-cards.herokuapp.com/card/",{method:"POST",body:JSON.stringify(data),headers:{"content-type":"application/json"}}).then(e=>e.json()).then(e=>{console.log(e);const t=e.cardURL;generatedUrl.innerHTML=t,generatedUrl.href=t,shareOnTwitter.href="https://twitter.com/intent/tweet?text="+t}),changeColorButton()}fileField.addEventListener("change",getImage),btn.addEventListener("click",handlebntCreate);